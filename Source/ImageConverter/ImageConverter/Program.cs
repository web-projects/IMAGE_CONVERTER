using ImageConverter.Engine;
using ImageConverter.Helpers;
using System;

namespace ImageConverter
{
    class Program
    {
        static readonly string[] imagePayload = new string[]
        {
            // CustId: 1117607, Transaction ID: 097-0000084421
            "89504E470D0A1A0A0000000D494844520000003F0000004B0103000000FD22CD4B000000017352474200AECE1CE90000000467414D410000B18F0BFC610500000006504C5445000000FFFFFFA5D99FDD000000097048597300000EC300000EC301C76FA864000000F04944415428CFADD2414EC3301005D0EC58E608DC841C855EA4726FC0117A0C1608A5272827A0E98E154DD9342DAEFDF9DF9E6911DD12C9D25B78FE583369C06F1100611F7A64E1091539602838C1303946C7D2110C9989A5FCE4981C2CE2356270740615F1E426C1101DAA4E82AA0BD8B2822DAF88174C8ED1300D8EDE3006C34E553DB111DE887761DF022F028782E7022C9AB60298DD1B1EB777151D8E0599590F8E8D90D866E7380891380A0758A070163E6FC0E7E05B78FD8D9233E7593BD43473186705260E233A3E84482CCB0623D76AF8AAAB8C682BD2AABE67C89D81C105FD0DC25F6885FF816BB27E0EE41FE2793241255B26A80000000049454E44AE426082",
            // CustId: 1117600, Transaction ID: 097-
            "89504E470D0A1A0A0000000D4948445200000320000001E008060000005D0709F5000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA86400000D8149444154785EEDD9890EDB380E00D0FEFF4FEF56D371EB719DF8927590EF01028A36B10ED210D9FC00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000E04DFF7B300000003EAADD44D47E1E000030B11ECD418F390100804E462BFE475B0F000050C10C45BE4604000026376351AF11010080892C05FCEC457C947D00004048918B758D0800000C225371AE110100804E3217E31A1100006848F1FD8B460400005EA6E0FE9B33010080CAFC6FFF77CE0600002A515C9FA3490300808714D4D739330000B841217D9FB30300800B14D0CF9533748E0000F085A2B93EE70900003B14CAEF71B60000B0A2407E9F330600809F14C6ED386B0000525310B7E7CC0100484921DC8FB30700201505707F620000400A0ADF7188050000A12978C72326000084A4D01D97D80000108A02776CE2030040188ADB3988130000D353D4CE45BCDE55CE773B0000A84471351F31AB6BDD687C3ADB339F0100E080426A5E62F7DC9366E2C9770100D25240CD4DFCAE5B1A875A6757F3590000A1299AE62786E72C4DC29BE7251600005F2896E210CBCFDE6E3AB65ACF0700300505522CE2F9B7DE8D80980000AC288EE211D35F7A371E6B620200F093A228AEECB11D6DFFDE3500203D05516C59E35BF63DEADEBD7300406A8AA1F8B2C578F4FD7AE70080B4144239648973D9E72C7BF5EE0100292982F2881EEBD9F6E7DD0300D25100E51239DEB3EECD3B0800A4A2F8C9A775CCCB7C67C75D4FBEDBDBCC6B0700B844E19353ABB89779AECE75676D11F238C21E0000BE52F0E4F666FCCBB3EF3EFFEAF7A2E471947D00007CA4E0C9AD76FCCBF396F1D4D967D4DE436FD1F60300F09B42875A39509E533B9FCE3C2F620E47DC1300C03F143A144FF2A07CF7AD3C3A7A6ED4FC8DBA2F002039450E8B3BB950BEF3760E1D3D3F6A0E47DD1700909C2287C5955C289F6D953BDFE6899CBF91F7060024A5C061EB4C4EF4C89BBD39A3E7AFF71300084781C3D6B79C28FFD62B67B6F366C8DD0C7B04001251DCF0C95E6EF4CE97F5FC5972D73B0A0084A2B8E1936DB13F42AE6CD79441967D020009286CF866C98F91F264C435BDCD7B0A0084A1B0E19B921FA3E5C8886B7A9BF71400084151C391118BFD8C79EB5D05004250D4F0C9BAF118294FD6EBCA24E39E0180801435ECD9E6C54879923567BDAB00C0F41434ECD9CB0B0D487FDE5700607A0A1AB6BEE5C408F952D690356FBDAF00C0D414336C1DE5C4083953D6903577BDB300C0D41433AC9DC987DE39B3CC9F3177BDAF8CA2E4E27600C02117066B67F3A177DE2CF367CC5FEF2C2D943CBB3200E03417078B2BB9D0336FD67367CB5FEF2B35943C3A1ADF9CF90C007CE412A1B89A073DF3663D77B6FCF5BE72A4E4C8D1B8E3E9F701E03797094F0A921ED6F366CB5FEF6B6E25FE47A3A6B79E0B40622E159EE440AFFC59CF9B2987BDAFB195F81E8DB7B59E0F80845C30B93D8D7F8FFCD9CE992987BDAFF32AB13B1A3D8CB006009271E1E454ABD8E8913FDB39B3E470967DCEA8C4E6688C64D4750190840B289F9A31EF913FDB39B3E4B077B58F72EE476374B3AD1780E05C46B9D48E778FFCD9CE992187BDA7EF28E77A346614610F0004E672CAE38D58F7C89FED9CD173D83B7A4F39B7A31145D47D011094CB2A87B7E2DC237FB67346CF61EFE8DFCA991C8DC832ED1580805C5E39BC15E71EF9B39D33720E677C3FCB9E8F4636D9F70F40302EB3F8DE8C718FFCD9CE19358723EEABECE96864E74C0008CFE516DBDBF1ED913FDB39A3E6F06CFB2AEB3D1AFCCD1901908E0B2FAE16B1ED913FDB3923E6F0687B2AEB391A1C736E00F0930B30AE16B1ED913F7B7346CAE3D67B29F31D0DEE718E00B0C3A51853ABB8F6C89FBD3923E571CDBD94671D0DEA71B60070824B329E9631ED913F9FE68C90CB57F6503E7B347897F306801B5C9AB1B48E67AFFCD99B77F65C5EAFBFFCF968D087180040052ED2187AC4B157EE7C9A77865C2E6B3C1A8C476C00A02297EAFC7AC5B067EEECCDDD3B97CBFC4763CFA7BFA7BF6F7103001E70C1CEAB57EC7AE7CCA7F9DF5A5779EED1B8E3EEF778CFD398020027B868E7D4336E23E4CCDE1AEEACAB7CE768D4F6D673B96E1D67310180465CBAF3E91DB31172E6D31AD67F5FFE7C345AEB31277FF48E3F00F02F17F13C4688D5286B381AA319714DD18D9E130090968B790EA3C4695DD07D1A4FEC3D6F3B16EB3F6F7DFBB796B66BE65DCB793B7300189CCB7A6CA3C4E74C61B77C66EF73EB7FFB34AEFAF69D3BCFABE5EE7EB8C77903C0845CDE63EA1D97A5B05BD671763DEBEF2DE32DDF9EFDF6DC5BADE7CB6C396BE70D001373918FA7754CD645DD76EED66BB9E2686D7BFBA9E9EDE7F3CB72CECE1A000271B18FA3452CD605DDD17C2DD6F3C499F59DD9E715B59FC77F2DE7EB9C012038177D7F6FC4605DC82DE38AAB9FEFE1EC1AD76770755F77BFC739CE1700925200F453EBDC9718D68A65AD75BDEDCE7E97EF9C19D4E57C0180FF5010B477F7CCD7455CEDB8D57E5E0B33AE3983758E8A1100B04B91D0CED5B36E55C8CD9A032DCE86634B1CC40200384DF1F0BE33E7BBC4A1753C5ACEF586D6E7C59F3377EE00C0230A8A77EC9DE972D6EBD14BCFB96BEA7D8E912D67EB8C0180572832EA59176DEB318A91D652CB88E73C9BF5193A4700A01905C875EB339BE1EC465FDF5333C4A0B7E58CD60300A03B45CA1F7B67B18CADBDBF1BC9E8EBABE5537C325ACEC2990000D3D91632DB31A3BD7D6CC759573EDBC3E8EB7BC33A8E91F7BFDDE77A000084B557FCAC476B7B6BD88E5A6A3EEB2D33ACF16DEBD8CF741EDB756F0700003BF60AA737474BADE7BB638635B6B6CE97BDD1DADE1ACA000080DF66281015B1F7AC9B8016030000BE9AA56854DC020040001A100000A009CD070000D0C44C45BD0604000026E7D70F0000A009BF7E0000004D683E000080663420000040139A0F0000A089D90A7A0D0800004CCCAF1F000040137EFD0000009AD07C000000CD684000008026341F000040133316F31A10000098945F3F00008026FCFA01000034E3D70F0000A009CD070000D08C060400006842F301000034335341AFF900008089F9F503000068C6AF1F000040139A0F0000A0190D080000D084E6030000686696A25EF301000001684000008026341F000040331A100000A099190A7BCD07000004A0F90000009AD180000000CD8C5EDC6B3E00002008CD070000D0CCC805BEE60300008219B5C8D77C000040309A0F0000A099110B7DCD07000004A4F90000009A19ADD8D77C000040602315FC9A0F0000084CF301000034334AD1AFF9000080044628FC351F00009080E603000068A677F1AFF9000080447A36009A0F000048A65713A0F9000080847A34029A0F000048AA7533A0F9000080C45A36049A0F000048AE5553A0F90000005E6F0CCAF3351F0000C03FDE6C0E341E0000C05F6A370A7EF50000003EAAD52C683C000080539E340E1A0F0000E0B2AB8D84C6030000786C692CF69A8B6FFF060000F0C8BAE1D07400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000039FDF8F17F1E6D20277BF4D6B90000000049454E44AE426082",
            // CustId: 1117600, Transaction ID: 097-0000084582
            "89504E470D0A1A0A0000000D4948445200000320000001E008060000005D0709F5000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA86400000DC749444154785EEDD9EB921BB90D0650BFFF4B27A1BDBDE99125F58D179038A7AA7F243B96D800687FA8F90500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000057FCE7E1030000F0568B05E2DD6796070000486AC452601101008064222C0116110000585CC4D06F11010080C5CC10F22D21000030B9D97EBB30DB79010080FF993DC85B44000060122B05774B08000004B66260F7DB1000000868F5906E090100800032FD86C012027DB97300C00F19C341A6850B4671CF0080BF640F07C211B4B1DD2D770C00F89760F0873A405D960F00E02F82C14FA51E6A02CFBCDE23770A00F84D28F84C6DE09ED7BBE32E0100BF038150704C8DE09A7777C63D0280E484816BD40B8E957B62F90000FE220CDCA36EF0D9B7FBE1EE00406282C033EA073F953B61F90000DE1204EA5047F8E3CC5D705F00202921A02EF5243BCB0700F09110D086BA925199FBB3B3EF8E00405242403B6A4B2657E6DDDD0080A48480F6D4980CAECEB97B0100090900FDA835AB2AB36DF900000E09007DA9372BBA3BD7EE030024E31FFF31D49D559459B67C0000A70900E3A83DB37B32C3E61F00121200C6527F66F6747ECD3F0024E31FFF18F481D99499B57C000097F8C73F16FD60163566D5BC03404202403C7A4274960F00E0160120267D21AA329BB5E6D39C034032FEF18F4D7F88A6E64C9A6F0048C63FFE73D02722287368F900001E1100E6A04F8CD66206CD350024E31FFFB9E817A3583E00802A0480B9E817BD9599B37C000055080073D2377A69396BE61800121200E6B45ADFCAFB1C3DF4D7B2EE7A0A00090900739BB57FE5DCAFCF19577E96675AD75A1F01202921606E33F56F0BB435CE5CEB7378AF756DF50E00921202D630431F5B9DB17CAE39AEA7573DF50C00121200D611B9973D03AD997EA657FDF40900921202D612B19F23CE64AEEFE95537FD0180A48480F544EBE9C8F398EFF34AAD7AD54B5F00203141604D51FA1AE11CE50CE6FCBB9EF5D10B00484C10585784DE469B2FF3FE5EEFBAE80300242608AC6D547FCBF7469D2D33FF7F23FAA4FE00909820B0BE113D9E61AECCBED90000061006D6D7BBC733CD54D6F92FEF3DE2DDB3D61B00F887309047AF5ECF3853E5CC99EEC2A877CD546300E00381208FD6BD2E9F3FFB3C65B80FA3DE31436D01800302413EAD7ABED22CAD7A2FCA7B8D7AB7556B0A005C2414E4D3A2E72BCED16AEF34F27DFC3D0300FC2614E455B3F72BCFD12AEF36FA3DFC5D0300FC2614E455ABF7196668E6772C671F7DFE0C3302009C2014E456A3FF996668C6778D70667FCF0000FF120C783A03D9666896F72DE78C70D66CF301007C2118503C9983AC3314FDBDA39CCFDF3100C00FC2019B3BB3907D7EA2BE7F9473F9FB0500F88B80C0E6EA2C989D3F22D5A19C25C279A29C030008464060EFCA3C989D9F22D4234A4FCC0600F091A0C0AB3333616EDE1B5997283D311B00C057C202AF8E66C2CC7CD7BB3EE5FBA2F4C46C00005F090B7CF26936CCCC39BDEA14A91F660300382430F0C9BBD9302FD7B4AC57F9EC28FD887416002030818123FB19312FF7B408E7917A612E0080D304078E6C3362569EAB55C348BD301700C025C20347CA8C98937A9ED4325A2FCC05007089F0C019E6A4BE3B8B44A43EDC393F008000C1A16D46CC4A1B67EB1AA9FE660100B84D90E09BFD7C9895764A6D3FD5F7DB7FEB2DD25900800909127CF33A1FE6A5BDA8352FE7D07F00E03181826FA286E1D56D613F4ABDF51D00A846B0E0934FB36166DADB6A3CBAD6E5FBF51B00A84AB8E09D6F736166DA7AAD6FF9DFBD6B3EE23B018004040CDE399A0B73D3C651E83FFAEF35F4F80E0020314183576766C2DCD477A5A6E5676BF7A0C5670200FC45E060EFCA3C989D7AEED6B2FCB9FD73C7933F0B007089D0C1DED579303FCFD50EFFDBE75D790000BA113ED8BB3A0FE6E719F50300D21180D8DC9905F3734FA99BDA01002909411477E7C0FC5CA76600405A8210C593393043D7A81700909A30C4D3193043E7943AA91500909E40945BADFE9BA3EFD40700E01F82516E1690F6D40600604738CAAB66EFCDD1DF4A4DD40500E085809453EDBE9BA39FD40300E00D2129A7167D374B7F943AA80500C00782524E169036D40000E080C0944FAB9E679F25770900E004A1299796FDCE3A4BE5BDDD2300809304A75C2C2075B93F000017095079B4EE75B659727700006E10A272E8D1E72CB354DED3BD0100B849905A5FAF1E679825F70500E021816A7D3D7BBCEA3C95F7725700002A10AAD6D6BBBF2BCE933B0200509170B5AE11BD5D6D9EDC0F0080CA04AC755940EE2BEFE16E0000342064AD69545F579827770200A021616B3D237B3AFB3CB90F00008D095C6B19DDCF59E7A99CDB5D0000E840E85A8B05E43A770000A023E16B1D117A39D33C95B39A7F00800184B0F945E9E12CB364E601000612C6E616A97F33CC92790700184C209B5B94FE459FA3723EB30E0010805036AF48BD8B3C47661C002010E16C4ED1FA16758ECC3700403002DA7C22F62CE24264B601000212D2E612B55F91CE65A601008213D8E66101F9AC9CC12C03004C40689B43E43E8D3E9B1906009888F0169FE5E333F30B003019012EB6E8FDB973BEF2673E3D675DFD7900000211E4E28ADE9BB3E7DB1686A39F3FF373479F01004070025D4C33F4E56851D89E3BDEFDB9BB9F05004030825D3C33F4E4D39250EBECDBE7D4FC4C00000210EE6299A11FFB336E0B428B73CF500B00006E10F4E288DE8B6DD9D81E0000B84C908C216A1F5E170EF30200C06342E578D17AB05F3AF6CC0A00008F09956345AAFFA7C56363560000A842B01C6774EDB7A5E3E81C66040080AA04CCFE46D57C5B38AE7CBFF90000A03A21B3AF9EF5DE168EBBDF693600006842D0ECA3479DB785A3C677990B00009A1136DB6B59E35A4BC79E990000A02981B39D16B5DD968E569F0D0000CD099EF5D5AE69ABA563CF1C0000D04D8F809B498D5A6E3DE9D517FD0700A03B21F4B9BB35DC968DEDE96DC47702008020FAD0D9FA6D8BC6F68C34FAFB0100484E20BDE7A86EDBB211ADBEFA0D00C07011837274AFF5DA6A18B99651CF0500405291C373245B9DF6CF0C6639270000C9CC14AA5BDB6AF1FACC66C633030090CCCC81FBAAFDBBEE9F57EFFEBF19CC7A6E000092DA87F29943F8A7E7AC2B3F1BC58C670600801FF6E17D7BA27877B6F23C55E3334698F5DC0000F0D53EEC6F4F6DEFBEE3F569A5E567B732E3990100E0B6FD6250E31965E4773F31EBB90100202DCB070000D08D05040000E8C2F2010000746301010000BAB07C000000DDCC18E42D1F00003021BFFD000000BAF1DB0F0000A00BCB070000D0CD6C61DEF201000093F2DB0F0000A01BBFFD000000BAB07C000000DD58400000802E2C1F0000403733057ACB0700004CCCF2010000746301010000BA9925D45B3E0000600133047BCB0700002CC0F201000074133DDC5B3E000060219103BEE50300001662F9000000BA891AF22D1F0000B0A08841DFF20100008B8A16F62D1F0000B0B04881DFF20100008B8B12FA2D1F0000904084E06FF9000080244686FFF2DD960F00004864D40260F1000080847A2F027EEB010000C9F55A082C1E000040F3C5C06F3D0000801F5A2C08160F0000E0AD9A8B82C503000038F47469B078000000976C4BC4994562FFB3677E1E0000E0A3D705E3F50100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000E0B75FBFFE0B9FF8E149977CA9F30000000049454E44AE426082",
         };

        static void Main(string[] args)
        {
            Console.WriteLine("IMAGE FROM BYTE ARRAY...");
            ImageConverterEngine imageConverter = new ImageConverterEngine();
            //byte[] imageBytes = ConversionHelper.HexToByteArray(imagePayload[0]);
            byte[] imageBytes = ConversionHelper.HexToByteArray(imagePayload[imagePayload.Length - 2]);
            if (imageConverter.ConvertByteArrayToImage(imageBytes))
            {
                imageConverter.ImageDisplay();
            }
        }
    }
}
